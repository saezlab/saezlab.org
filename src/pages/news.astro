---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import NewsCard from '../components/NewsCard';

const news = await getCollection('news');
const sortedNews = news.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());
---

<Layout title="News">
  <div class="container py-6 md:py-12">
    <div class="mx-auto max-w-[980px]">
      <h1 class="mb-4 text-3xl font-bold leading-tight tracking-tighter md:text-6xl lg:leading-[1.1]">
        News & Events
      </h1>
      <p class="max-w-[750px] text-lg text-muted-foreground sm:text-xl">
        Latest updates from the Saez Lab
      </p>
    </div>

    <div class="mx-auto max-w-[980px] py-6 md:py-12">
      <div class="grid gap-6 md:grid-cols-2">
        {sortedNews.map((article) => (
          <NewsCard
            client:load
            title={article.data.title}
            date={article.data.date}
            author={article.data.author}
            image={article.data.image}
            excerpt={article.data.excerpt}
            slug={article.slug}
          />
        ))}
      </div>
    </div>
  </div>
</Layout> 